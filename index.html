<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Site – Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- -----------------------------------------------------------------
       Basic styling – background colour, centering, logo placeholder
       ----------------------------------------------------------------- -->
  <style>
    body {
      margin: 0;
      min-height: 100vh;
      background-color: #051433;      /* requested background */
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      font-family: "SQ Market", Helvetica, Arial, sans-serif;
      color: #fff;
    }

    /* Simple placeholder – replace the src with your real logo */
    .logo {
      margin-top: 60px;
      width: 420px;

      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .logo img {
      max-width: 100%;
      max-height: 100%;
    }


    /* Keep the button container centered */
    .button-wrapper {
      margin-top: 40px;
    }
  </style>
</head>

<body>
 
  <div class="logo">
     <img src="https://i.imgur.com/2MkDvGS.png" alt="Custody Consuting">
  </div>

  <!-- ---------------------------------------------------------------
       PAY‑NOW BUTTON (exactly the markup you supplied)
       --------------------------------------------------------------- -->
  <div class="button-wrapper">
    <div style="
        overflow: auto;
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
        align-items: center;
        width: 320px;
     
        font-family: SQ Market, Helvetica, Arial, sans-serif;
      ">
      <div style="padding: 20px;">
        <a id="embedded-checkout-modal-checkout-button"
           target="_blank"
           data-url="https://square.link/u/vTdDwQ5Y?src=embd"
           href="https://square.link/u/vTdDwQ5Y?src=embed"
           style="
             display: inline-block;
             font-size: 18px;
             line-height: 48px;
             height: 48px;
             color: #ffffff;
             min-width: 262px;
             background-color: #f58f1b;
             text-decoration: none;
             text-align: center;
             box-shadow: 0 0 0 1px rgba(0,0,0,.1) inset;
           ">BOOK NOW</a>
      </div>
    </div>
  </div>

  <!-- ---------------------------------------------------------------
       SCRIPT – opens the Square checkout in a centered popup
       --------------------------------------------------------------- -->
  <script>
    function showCheckoutWindow(e) {
      e.preventDefault();

      const btn = document.getElementById('embedded-checkout-modal-checkout-button');
      const url = btn.getAttribute('data-url');
      const title = 'Square Payment Links';

      // Some platforms embed in an iframe, so we want the top window to calculate sizes correctly
      const topWindow = window.top ? window.top : window;

      // Fixes dual‑screen positioning – most browsers / Firefox
      const dualScreenLeft = topWindow.screenLeft !== undefined ? topWindow.screenLeft : topWindow.screenX;
      const dualScreenTop = topWindow.screenTop !== undefined ? topWindow.screenTop : topWindow.screenY;

      const width = topWindow.innerWidth
        ? topWindow.innerWidth
        : document.documentElement.clientWidth
        ? document.documentElement.clientWidth
        : screen.width;
      const height = topWindow.innerHeight
        ? topWindow.innerHeight
        : document.documentElement.clientHeight
        ? document.documentElement.clientHeight
        : screen.height;

      const h = height * 0.75;   // 75 % of viewport height
      const w = 500;             // fixed width

      const systemZoom = width / topWindow.screen.availWidth;
      const left = (width - w) / 2 / systemZoom + dualScreenLeft;
      const top = (height - h) / 2 / systemZoom + dualScreenTop;

      const newWindow = window.open(
        url,
        title,
        `scrollbars=yes, width=${w / systemZoom}, height=${h / systemZoom}, top=${top}, left=${left}`
      );

      if (window.focus) newWindow.focus();
    }

    // Attach the click handler to the button
    document.getElementById('embedded-checkout-modal-checkout-button')
      .addEventListener('click', showCheckoutWindow);
  </script>
</body>
</html>
